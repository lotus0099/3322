<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		#box{
			width:600px;
			height:100px;
			background:red;
			margin-left: 0px;
		}
	</style>
</head>
<body>
	<div id="box"></div>
	<script>
//		var oBox = document.getElementById('box');
//        move(oBox,'width','200',5);
//        function move(obj,attr,target,speed){
//            // 4个参数 让谁动,动哪个属性,动到什么程度,变化速度
//            var startVal = parseInt(getStyle(obj,attr));//获取初始位置；
//	        if(startVal>target){
//                var  timer1 = setInterval(function(){//动画的基础是定时器,必须先知道初始的位置
//                    startVal-= speed;//定时器没执行一次,速度递增
//                    if(startVal <= target){
//                        startVal = target;
//                        clearInterval(timer1);//到达目标位置,清除定时器
//                    }
//                    oBox.style[attr] = startVal+"px";将目标值赋值给控制的属性
//                },13);//可以简化写成speed=-speed,后面else 去掉,下面if 修改判断
//	        }else{
//                var  timer = setInterval(function(){//动画的基础是定时器,必须先知道初始的位置
//                    startVal+= speed;//定时器没执行一次,速度递增
//                    if(startVal >= target){
//                        startVal = target;
//                        clearInterval(timer);//到达目标位置,清除定时器
//                    }
//                    oBox.style[attr] = startVal+"px";将目标值赋值给控制的属性
//                },13);
//	        }
//        }
//
//		function getStyle(obj,attr){
//            return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
//		}
	
	
		var oBox = document.getElementById('box');
		move(oBox,'width','200',5);
		function move(obj,attr,target,speed){
			var val = parseInt(getStyle(obj,attr));
			var onOff = true;
			if(val>target){
                 onOff = false;
                 speed = -speed;
			}
			var timer = setInterval(function(){
                val+=speed;
			    if(onOff){
                    if(val>=target){
                        val = target;
                        clearInterval(timer);
                    }
			    }else{
                    if(val<=target){
                        val = target;
                        clearInterval(timer);
                    }
			    }
			  
			    oBox.style[attr]=val+"px";
			    console.log(val);
			},13);
		    function getStyle(obj,attr) {
			    return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
            }
        };
	</script>
</body>
</html>